{"version":3,"sources":["webpack:///src/page/BMap.vue","webpack:///./src/page/BMap.vue?3921","webpack:///./src/page/BMap.vue","webpack:///src/components/Loaction.vue","webpack:///./src/components/Loaction.vue?c763","webpack:///./src/components/Loaction.vue","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js"],"names":["BMap","data","mounted","this","$nextTick","ready","methods","defineProperty_default","test","window","navigator","geolocation","getCurrentPosition","position","console","log","h5Geolocation","r","alert","res","coords","latitude","lat","lng","longitude","pointBak","Point","Convertor","translate","resPoint","points","length","point","Geocoder","getLocation","e","code","TIMEOUT","PERMISSION_DENIED","POSITION_UNAVAILABLE","UNKNOWN_ERROR","enableHighAcuracy","timeout","maximumAge","map","Map","Geolocation","centerAndZoom","getStatus","BMAP_STATUS_SUCCESS","setTimeout","convertor","pointArr","push","mk","Marker","addOverlay","panTo","enableHighAccuracy","page_BMap","render","_h","$createElement","_self","_c","staticClass","attrs","id","staticRenderFns","Loaction","components","__webpack_require__","normalizeComponent","ssrContext","components_Loaction","Loaction_Component","Loaction_normalizeComponent","__webpack_exports__","$Object","Object","module","exports","it","key","desc","defineProperty","default","__esModule","obj","_defineProperty","_defineProperty2","value","enumerable","configurable","writable","$export","S","F","f"],"mappings":"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","file":"static/js/3.66d68ee7310026674d68.js","sourcesContent":["<template>\n<div class=\"map\" id=\"bdMap\"></div>\n</template>\n<script>\n// import { loginByUsername } from '@/service/api'\n\n// import {MP} from '@/services/map.js'\nexport default {\n  data () {\n    return {\n    }\n  },\n  mounted () {\n    this.$nextTick(function () {\n      /* eslint-disable */\n      // this.getLocationLatLon({\n      //   enableHighAccuracy: true\n      // }).then(res => {\n      //   console.log(res)\n      //   // 成功获取到地理位置\n      // }).catch(error => {\n      //   // 获取地理位置失败或者其他错误\n      // })\n      /* eslint-disable */\n      this.ready()\n      // this.h5Geolocation()\n    })\n  },\n  methods: {\n    test () {\n      window.navigator.geolocation.getCurrentPosition((position) => {\n        console.log(position)\n      })\n    },\n    h5Geolocation() {\n      window.navigator.geolocation.getCurrentPosition((r) => {\n        alert(res.coords.latitude)\n        let lat = r.coords.latitude\n        let lng = r.coords.longitude\n        const pointBak = new window.BMap.Point(lng, lat)\n        const convertor = new window.BMap.Convertor()\n        convertor.translate([pointBak], 1, 5, function (resPoint) {\n          if(resPoint && resPoint.points && resPoint.points.length>0){\n              lng = resPoint.points[0].lng\n              lat = resPoint.points[0].lat\n              alert(lat)\n          }\n          const point = new window.BMap.Point(lng, lat)\n          const geo = new window.BMap.Geocoder()\n          geo.getLocation(point, (res) => {\n            console.log(res)\n          })\n        })\n      }, (e) => {\n        switch (e.code) {\n          case e.TIMEOUT:  \n            alert(\"定位失败，请求获取用户位置超时\")\n            break\n          case e.PERMISSION_DENIED:  \n            alert(\"您拒绝了使用位置服务功能，查询已取消\")\n            break\n          case e.POSITION_UNAVAILABLE:  \n            alert(\"抱歉，暂时无法为您所在的星球提供位置服务\")\n            break\n          case e.UNKNOWN_ERROR:  \n            alert(\"发生一个位置错误\")\n            break\n        }\n      }, {  \n        //指示浏览器获取高精度的位置，默认false  \n        enableHighAcuracy: true,\n        //指定获取地理位置的超时时间，默认不限时，单位为毫秒  \n        timeout: 5000,\n        //最长有效期，在重复获取地理位置时，此参数指定多久再次获取位置  \n        maximumAge: 2000\n      })\n    },\n    ready () {\n      let that = this\n      var map = new window.BMap.Map('bdMap')\n      var geolocation = new window.BMap.Geolocation()\n      geolocation.getCurrentPosition(function (r) {\n        console.log(r)\n        let lat = r.latitude\n        let lng = r.longitude\n        const pointBak = new window.BMap.Point(lng, lat)\n        map.centerAndZoom(pointBak, 15)\n        /* eslint-disable */\n        if (this.getStatus() === BMAP_STATUS_SUCCESS) {\n          setTimeout(function(){\n              var convertor = new window.BMap.Convertor()\n              var pointArr = []\n              pointArr.push(pointBak)\n              convertor.translate(pointArr, 1, 5, function (data) {\n                console.log(data)\n                var mk = new window.BMap.Marker(data.points[0])\n                map.addOverlay(mk)\n                map.panTo(data.points[0])\n              })\n          }, 1000)\n          // console.log('您的位置：' + r.point.lng + ',' + r.point.lat)\n        } else {\n          console.log('failed' + this.getStatus())\n        }\n        /* eslint-disable */\n      }, {enableHighAccuracy: true})\n      // })\n    },\n    test () {\n\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.map {\n  height: 300px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/BMap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"bdMap\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7237127a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/BMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7237127a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BMap.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7237127a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7237127a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/BMap.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"location\">\n  <BMap></BMap>\n</div>\n</template>\n<script>\nimport BMap from '@/page/BMap.vue'\nexport default {\n  components: {\n    'BMap': BMap\n  },\n  data () {\n    return {\n    }\n  },\n  methods: {\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Loaction.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"location\"},[_c('BMap')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f0abe86\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Loaction.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f0abe86\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Loaction.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Loaction.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Loaction.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f0abe86\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Loaction.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f0abe86\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Loaction.vue\n// module id = null\n// module chunks = ","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 3","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 3","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = bOdI\n// module chunks = 3","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 3"],"sourceRoot":""}