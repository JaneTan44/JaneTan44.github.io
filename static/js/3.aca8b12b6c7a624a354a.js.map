{"version":3,"sources":["webpack:///src/page/BMap.vue","webpack:///./src/page/BMap.vue?8cb3","webpack:///./src/page/BMap.vue","webpack:///src/components/Loaction.vue","webpack:///./src/components/Loaction.vue?c763","webpack:///./src/components/Loaction.vue"],"names":["BMap","data","surroundingPois","mounted","this","$nextTick","ready","methods","select","item","alert","title","that","map","window","Map","Geolocation","getCurrentPosition","r","console","log","lat","latitude","lng","longitude","pointBak","Point","centerAndZoom","getStatus","BMAP_STATUS_SUCCESS","setTimeout","convertor","Convertor","pointArr","push","translate","mk","Marker","points","addOverlay","panTo","Geocoder","getLocation","res","enableHighAccuracy","test","page_BMap","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","_l","i","key","on","click","$event","_s","staticRenderFns","Loaction","components","__webpack_require__","normalizeComponent","ssrContext","components_Loaction","Loaction_Component","Loaction_normalizeComponent","__webpack_exports__"],"mappings":"uGAYA,IAAAA,GACAC,KADA,WAEA,OACAC,qBAGAC,QANA,WAOAC,KAAAC,UAAA,WAWAD,KAAAE,WAIAC,SACAC,OADA,SACAC,GACAC,MAAAD,EAAAE,QAEAL,MAJA,WAKA,IAAAM,EAAAR,KACAS,EAAA,IAAAC,OAAAd,KAAAe,IAAA,UACA,IAAAD,OAAAd,KAAAgB,aACAC,mBAAA,SAAAC,GACAC,QAAAC,IAAAF,GACA,IAAAG,EAAAH,EAAAI,SACAC,EAAAL,EAAAM,UACAC,EAAA,IAAAX,OAAAd,KAAA0B,MAAAH,EAAAF,GACAR,EAAAc,cAAAF,EAAA,IAEArB,KAAAwB,cAAAC,oBACAC,WAAA,WACA,IAAAC,EAAA,IAAAjB,OAAAd,KAAAgC,UACAC,KACAA,EAAAC,KAAAT,GACAM,EAAAI,UAAAF,EAAA,aAAAhC,GACAkB,QAAAC,IAAAnB,GACA,IAAAmC,EAAA,IAAAtB,OAAAd,KAAAqC,OAAApC,EAAAqC,OAAA,IACAzB,EAAA0B,WAAAH,GACAvB,EAAA2B,MAAAvC,EAAAqC,OAAA,KACA,IAAAxB,OAAAd,KAAAyC,UACAC,YAAAzC,EAAAqC,OAAA,YAAAK,GACA/B,EAAAV,gBAAAyC,EAAAzC,qBAGA,KAGAiB,QAAAC,IAAA,SAAAhB,KAAAwB,eAGAgB,oBAAA,KAGAC,KAvCA,eC/BeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA5C,KAAa6C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,MAAAC,OAAyBC,GAAA,WAAcP,EAAAQ,GAAA,KAAAL,EAAA,KAAAH,EAAAS,GAAAT,EAAA,yBAAAvC,EAAAiD,GAAoE,OAAAP,EAAA,MAAgBQ,IAAAD,EAAAE,IAAUC,MAAA,SAAAC,GAAyB,OAAAd,EAAAxC,OAAAC,OAA0BuC,EAAAQ,GAAAR,EAAAe,GAAAtD,EAAAE,YAA+B,MAE9UqD,oBCCjB,ICIAC,GACAC,YACAlE,KDNyBmE,EAAQ,OAcjCC,CACEpE,EACA8C,GATF,EAVA,SAAAuB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,SCfhClE,KAJA,WAKA,UAGAM,YCZe+D,GADEvB,OAFP,WAAgB,IAAaE,EAAb7C,KAAa8C,eAA0BC,EAAvC/C,KAAuCgD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,aAEjGa,oBCChC,IAcIO,EAdqBJ,EAAQ,OAcjBK,CACdP,EACAK,GAT6B,EAV/B,SAAoBD,GAClBF,EAAQ,SAaS,kBAEU,MAUdM,EAAA,QAAAF,EAAiB","file":"static/js/3.aca8b12b6c7a624a354a.js","sourcesContent":["<template>\n<div class=\"map\">\n  <div class=\"map\" id=\"bdMap\"></div>\n  <ul>\n    <li v-for=\"(item, i) in surroundingPois\" :key=\"i\" @click=\"select(item)\">{{item.title}}</li>\n  </ul>\n</div>\n</template>\n<script>\n// import { loginByUsername } from '@/service/api'\n\n// import {MP} from '@/services/map.js'\nexport default {\n  data () {\n    return {\n      surroundingPois: []\n    }\n  },\n  mounted () {\n    this.$nextTick(function () {\n      /* eslint-disable */\n      // this.getLocationLatLon({\n      //   enableHighAccuracy: true\n      // }).then(res => {\n      //   console.log(res)\n      //   // 成功获取到地理位置\n      // }).catch(error => {\n      //   // 获取地理位置失败或者其他错误\n      // })\n      /* eslint-disable */\n      this.ready()\n      // this.h5Geolocation()\n    })\n  },\n  methods: {\n    select (item) {\n      alert(item.title)\n    },\n    ready () {\n      let that = this\n      var map = new window.BMap.Map('bdMap')\n      var geolocation = new window.BMap.Geolocation()\n      geolocation.getCurrentPosition(function (r) {\n        console.log(r)\n        let lat = r.latitude\n        let lng = r.longitude\n        const pointBak = new window.BMap.Point(lng, lat)\n        map.centerAndZoom(pointBak, 15)\n        /* eslint-disable */\n        if (this.getStatus() === BMAP_STATUS_SUCCESS) {\n          setTimeout(function(){\n              var convertor = new window.BMap.Convertor()\n              var pointArr = []\n              pointArr.push(pointBak)\n              convertor.translate(pointArr, 1, 5, function (data) {\n                console.log(data)\n                var mk = new window.BMap.Marker(data.points[0])\n                map.addOverlay(mk)\n                map.panTo(data.points[0])\n                const geo = new window.BMap.Geocoder()\n                geo.getLocation(data.points[0], (res) => {\n                  that.surroundingPois = res.surroundingPois\n                })\n              })\n          }, 1000)\n          // console.log('您的位置：' + r.point.lng + ',' + r.point.lat)\n        } else {\n          console.log('failed' + this.getStatus())\n        }\n        /* eslint-disable */\n      }, {enableHighAccuracy: true})\n      // })\n    },\n    test () {\n\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.map {\n  height: 300px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/BMap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\"},[_c('div',{staticClass:\"map\",attrs:{\"id\":\"bdMap\"}}),_vm._v(\" \"),_c('ul',_vm._l((_vm.surroundingPois),function(item,i){return _c('li',{key:i,on:{\"click\":function($event){return _vm.select(item)}}},[_vm._v(_vm._s(item.title))])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b9329914\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/BMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b9329914\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BMap.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b9329914\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b9329914\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/BMap.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"location\">\n  <BMap></BMap>\n</div>\n</template>\n<script>\nimport BMap from '@/page/BMap.vue'\nexport default {\n  components: {\n    'BMap': BMap\n  },\n  data () {\n    return {\n    }\n  },\n  methods: {\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Loaction.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"location\"},[_c('BMap')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f0abe86\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Loaction.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f0abe86\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Loaction.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Loaction.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Loaction.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f0abe86\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Loaction.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f0abe86\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Loaction.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}